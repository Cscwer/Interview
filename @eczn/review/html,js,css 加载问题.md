# 概念

1. 加载 css 的时候构建渲染树 
2. 加载 html 的时候构建 DOM 树 
3. 同步的加载 js 的时候会阻塞 DOM 树和渲染树的构建。（因为 js 代码可以控制 dom 或者 css，所以得阻塞）


# 具体的过程

1. 首先浏览器从服务器接收到html代码，然后开始解析html
2. 构建DOM树（根据html代码自顶向下进行构建），并且在同时构建渲染树
3. 遇到js文件加载执行，将阻塞DOM树的构建；遇到css文件，将阻塞渲染树的构建

script标签中的defer属性：构建DOM树的过程和js文件的加载异步（并行）进行，但是js文件执行需要在DOM树构建完成之后
script标签中的async属性：构建DOM树、渲染树的过程和js文件的加载和执行异步（并行）进行）

# Attention 

1. js 在 head 中时，会阻塞浏览器构建 DOM 树，这时候网页白屏。体验不好，因此比较大，加载慢的 js 应该放在 body 里
2. css 应该放在 head 里加载，否则如果 css 很大，加载慢，那么页面首先会是 裸html 的页面，随后才加载好 css 不好看 
3. 现代的浏览器很厉害，执行和下载是两个步骤，即使被 js 文件阻塞，但是 css, html 的下载还会进行 (prefetch)。 


--- 

以下是面试过程中遇到过的

## @import 引入 css 和用 link 标签引入 css 有什么不同? 

1. link 不只用来引入 css，还可以做其他事，比如定义网站图标；而 @import 只能引入 css
2. link 引入 css 的时候，会阻塞浏览器；而 @import 要等到页面完全载入之后再加载 


## CSS 预处理器里的 @import 跟 CSS 原生的 @import 的区别


